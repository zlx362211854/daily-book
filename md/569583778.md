
 # 127. 如何设计一个前端大文件断点续传的功能？ 
  
 ***
## goldEli 
 > commented 2 months ago 

以上传 test.txt 文件为例

1. 将 test.txt 文件分成 10 份，并别命名为 test_1_10.txt、test_2_10.txt ... test_10_10.txt
2. 同时将这10个文件上传服务器，服务器接收到文件后，通过文件名可以知道，每份文件的编号，以及总的份数。可以判断是否收完全接收，接收完成后再对文件进行合并
3. 如果上传了一部分，下次上传时，后端将未上传的编号发给前端，继续上传。
## zlx362211854 
 > commented 2 months ago 

大体思路是
1. 将大文件切片，然后借助 http 的可并发性，同时上传多个切片，可以使用Blob.prototype.slice方法。
2. 服务器需要做的是传输完成时，将小切片合并成大文件。
3. 当上传断开以后，服务器记录该文件的已上传切片的断点，再次上传时，从该断点继续上传剩余的切片。

[Ref](https://juejin.im/post/5dff8a26e51d4558105420ed)